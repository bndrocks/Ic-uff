<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Escola_Turmas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
  <link href="assets/css/uicons-regular-rounded.css" rel="stylesheet">
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body class="fonte">
    <div id="voltar">
        <a href="./configuracoes.html"> <img class="float-left voltar" src="../imagens/voltar.png"/></a>
    </div>
  <div id="usuario" class="usuario">
    <img src="../imagens/exit.png" style="margin-right: 0;" onclick="sair()">
  </div>
  <div class="container">
      <ul class="list-group list-group-horizontal-sm pt-3">
        <li class="list-group-item w-escola"><h3>Escola</h3></li>
        <li class="list-group-item w-turma"><h3>Turmas</h3></li>
        <li class="list-group-item w-acoes"><h3>Ações</h3></li>
      </ul>
      <ul class="list-group list-group-horizontal-sm" id="escola-0">
        <li class="list-group-item w-escola" id="li-escola-0">Degraus do Saber</li>
        <li class="list-group-item w-turma" id="li-turma-0">601, 602, 603</li>
        <li class="list-group-item w-acoes">
            <img id="editar-0" src="../imagens/editar.png" style="width: 24px; cursor: pointer;" onclick="editarEscola('0')">
            <img onclick="removerEscola('escola-0')" src="../imagens/excluir.png" style="width: 24px; margin-right:0px !important; cursor: pointer;">
        </li>
      </ul>
      <ul class="list-group list-group-horizontal-sm" id="escola-1">
        <li class="list-group-item w-escola" id="li-escola-1">Colégio Evolução</li>
        <li class="list-group-item w-turma" id="li-turma-1">601, 602, 603</li>
        <li class="list-group-item w-acoes">
            <img id="editar-1" src="../imagens/editar.png" style="width: 24px; cursor: pointer;" onclick="editarEscola('1')">
            <img onclick="removerEscola('escola-1')" src="../imagens/excluir.png" style="width: 24px; margin-right:0px !important; cursor: pointer;">
        </li>
      </ul>
      <ul class="list-group list-group-horizontal-sm" id="escola-2">
        <li class="list-group-item w-escola" id="li-escola-2">Colégio Miguel Couto</li>
        <li class="list-group-item w-turma" id="li-turma-2">601, 602, 603</li>
        <li class="list-group-item w-acoes">
            <img id="editar-2" src="../imagens/editar.png" style="width: 24px; cursor: pointer;" onclick="editarEscola('2')">
            <img onclick="removerEscola('escola-2')" src="../imagens/excluir.png" style="width: 24px; margin-right:0px !important; cursor: pointer;">
        </li>
      </ul>
      <ul id="add-escola" class="list-group list-group-horizontal-sm">
        <li class="list-group-item w-add" style="text-align: center;">
            <button class="btn-add-escola" onclick="criarLinhaTabela()">
                Adicionar +
            </button>
          </li>
      </ul>
  </div>
  <div>
    <div class="flex justify-center items-center" id="colegio-turma">
        <input class="colegio" type="text" name="colegio" id="colegio-cadastro" placeholder="Digite o nome do seu colegio" minlength="1">
        <img src="../imagens/add.png" style="width: 24px; margin: 0 0 20px 10px; cursor: pointer;" onclick="addColegio()">
    </div>
  </div>
    <script>
        var idNovaEscola = 2;
        function sair(){
            localStorage.clear();
            window.location.href = "file:///C:/Users/benne/Desktop/Ic-uff/front-end/index.html";
        }
        /*function criarElementoColegio(){
            let div = document.createElement('div')
            let id = idContainerColegio++
            div.id = `container-colegio-${id}`
            div.innerHTML = `
                                <h3>${getElementValue('colegio-cadastro')}
                                <img src="imagens/delete.png" style="width: 18px; cursor: pointer; margin-left: 10px" onclick="removerColegio(${id})">  
                                </h3>
                                <div class="turma-lista" id="turma-${id}"></div>
                                <div class="flex justify-center items-center" id="colegio-${id}">
                                <input class="colegio" type="text" name="turma" id="turma-cadastro-${id}" placeholder="Digite o numero da sua turma">
                                <img src="imagens/add.png" style="width: 24px; margin: 0 0 20px 10px; cursor: pointer;" onclick="addTurma(${id})">
                                </div>
                            `
            div.className = 'container-colegio'
            let elem = document.getElementById('colegio-turma');
            let refElem = elem.parentNode;
            elem.insertAdjacentElement('afterEnd', div);
            limparElementValue('colegio-cadastro')
        }

        function criarElementoTurma(id){
            let div = document.getElementById(`turma-${id}`)
            let idElemento = idElementoTurma++
            div.innerHTML = div.innerHTML + `
                                <span class="elemento-turma" id="elemento-turma-${idElemento}">${getElementValue('turma-cadastro-'+ id)} 
                                <img src="imagens/delete.png" style="width: 18px; cursor: pointer; margin-left: 10px" onclick="removerTurma(${idElemento})">
                                </span>
                            `
            limparElementValue('turma-cadastro-'+id)
        }*/

        function criarLinhaTabela(){
            idNovaEscola = idNovaEscola + 1;
            let ul = document.createElement('ul');
            ul.id = `escola-${idNovaEscola}`;
            ul.classList.add('list-group','list-group-horizontal-sm')
            ul.innerHTML = `
                <li class="list-group-item w-escola" id="li-escola-${idNovaEscola}">
                    <input id="input-escola-${idNovaEscola}" class="new-escola" type="text" name="escola" placeholder="Digite o nome da escola">
                </li>
                <li class="list-group-item w-turma" id="li-turma-${idNovaEscola}">
                    <input id="input-turma-${idNovaEscola}" class="new-escola" type="text" name="turma" placeholder="Digite as turmas">
                </li>
                <li class="list-group-item w-acoes">
                    <img id="editar-${idNovaEscola}" src="../imagens/verifica.png" style="width: 24px; cursor: pointer;" onclick="salvarEscola(${idNovaEscola})">
                    <img src="../imagens/excluir.png" style="width: 24px; margin-right:0px !important; cursor: pointer;" onclick="removerEscola('escola-${idNovaEscola}')">
                </li>
            `;
            let elem = document.getElementById('add-escola');
            let refElem = elem.parentNode;
            elem.insertAdjacentElement("beforeBegin",ul );
            document.getElementById(`input-escola-${idNovaEscola}`).focus();
            document.getElementById('add-escola').style.display = 'none'
        }

        function editarEscola(id){
            let escola = document.getElementById(`li-escola-${id}`);
            let turma = document.getElementById(`li-turma-${id}`);
            escola.innerHTML = `<input id="input-escola-${id}" class="new-escola" type="text" name="escola" placeholder="Digite o nome da escola" value="${escola.textContent}">`
            turma.innerHTML = `<input id="input-turma-${id}" class="new-turma" type="text" name="turma" placeholder="Digite as turmas" value="${turma.textContent}">`
            document.getElementById(`input-escola-${id}`).focus();
            document.getElementById(`editar-${id}`).src = '../imagens/verifica.png';
            document.getElementById(`editar-${id}`).setAttribute( "onClick", "salvarEscola("+id+");" );
        }

        function removerEscola(id){
            let elem = document.getElementById(id);
            elem.parentNode.removeChild(elem);
            document.getElementById('add-escola').style.display = 'inline';
        }

        function salvarEscola(id){
            let escolaValue = document.getElementById(`input-escola-${id}`).value;
            let turmaValue = document.getElementById(`input-turma-${id}`).value;
            document.getElementById(`li-escola-${id}`).innerHTML = escolaValue;
            document.getElementById(`li-turma-${id}`).innerHTML = turmaValue;
            document.getElementById(`editar-${id}`).src = '../imagens/editar.png';
            document.getElementById(`editar-${id}`).setAttribute( "onClick", "editarEscola("+id+");" );
            document.getElementById('add-escola').style.display = 'inline';
        }

        /*function addTurma(id){
            criarElementoTurma(id)
        }

        function removerTurma(id){
            removerElemento(`elemento-turma-${id}`)
        }

        function removerColegio(id){
            removerElemento(`container-colegio-${id}`)
        }*/
  </script>
  <style>
      .btn-add-escola{
          color: #208935;
          border: solid 1px #208935;
          padding: 5px 20px;
          margin: 5px;
          border-radius: 5px;
      }
      .btn-add-escola:hover{
          color: white;
          background-color: #208935;
      }
      .w-escola{
          width: 400px;
      }
      .w-turma{
          width: 300px;
      }
      .w-acoes{
          width: 120px;
      }
      .w-add{
          width: 820px;
      }
      input.new-escola{
        outline: none;
        border: none;
        width: 350px;
      }
      input.new-turma{
        outline: none;
        border: none;
        width: 250px;
      }
      input.new-escola::placeholder{
        color: steelblue;
      }
  </style>
</body>
</html>